# 线性排序

## 桶排序
### 核心思想
将要排序的数据分到几个有序的桶里，每个桶里的数据在单独进行排序。桶内排完序之后，再把每个桶里的数据按照顺序依次取出，组成的序列就是有序的了。

![avatar](https://static001.geekbang.org/resource/image/98/ae/987564607b864255f81686829503abae.jpg) 

### 数据要求
1. 要排序的数据需要很容易就能划分成m个桶
2. 桶与桶之间有大小顺序
3. 数据在各桶之间的分布比较均匀

### 适用场景
桶排序比较适合用在外部排序中。外部排序就是数据存储在外部的磁盘中，数据量比较大，内存有限，无法将数据全部加载到内存中。

## 计数排序(Counting sort)
计数排序其实是桶排序的一种特殊情况，当要排序的n个数据，所处的范围并不大的时候，比如最大值是k，就可以把数据划分成k个桶。每个桶内的数据值都是相同的，省掉了桶内排序的时间。

### 实现方法
1. A[7]=[2, 5, 3, 0, 2, 3, 0, 3] 为8个考生的分数。分数最大为5，因此用大小为6的数组C[6]表示桶，下标对应分数，C数组中存储相应分数对应的考生个数。则数组C为：
    ![avatar](https://static001.geekbang.org/resource/image/ad/c9/adc75672ef33fa54b023a040834fcbc9.jpg)
2. 从上图中看出，分数为3分的考生有3个，小于3分的考生有4个，因此，成绩为3分的考生在排序之后的有序数组R[8]中，会保存在4，5，6的位置，如图：
    ![avatar](https://static001.geekbang.org/resource/image/36/29/361f4d781d2a2d144dcbbbb0b9e6db29.jpg)
3. 对C[6]顺序求和，即[0, 0, 2, 2, 3, 3, 3, 5]求和得到C数组新的存储方式，如下图。C[6]下标0~5代表分数，存储的数据为小于等于当前下标分数的个数。
    ![avatar](https://static001.geekbang.org/resource/image/dd/1f/dd6c62b12b0dc1b3a294af0fa1ce371f.jpg)
4. 从后向前依次扫描数组A，当A[7]=3时，C[7]=3，意味着一共有7个分数小于等于3的考生。因此将C[7]=3放入R数组的第7个位置，即R[6]=3。此时，取出一个3之后，C中小于等于3的元素将变成7-1=6个，因此C[3]=6。剩余过程以此类推，如下图。
    ![avatar](https://static001.geekbang.org/resource/image/1d/84/1d730cb17249f8e92ef5cab53ae65784.jpg)